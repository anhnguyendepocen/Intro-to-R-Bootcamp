---
title: "R Programming"
subtitle: "Getting started with charts in R"
author: | 
  | Brad Boehmke, Ph.D.
output: 
  ioslides_presentation:
    logo: images/uc_logo2.png
    widescreen: true
    smaller: true
    transition: 0.01
---


# Key Things to Remember

## Not all charts need to be pretty!

<br>
<br>

<center>
<img src="images/quickplots_icon2.png" width="60%" height="60%"/>
</center>

## What to Remember from this Section

<font size="6">
<blockquote>
Exploratory data analysis plotting should be quick and simple and base R excels at this
</blockquote>
</font>

<br>

Visualization Dimension         Visualization           Function             
----------                      -------------           ---------       
Univariate                      Histogram               `hist()`
                                Bar chart               `barplot()`
                                Box plot                `boxplot()`
                                Stem & leaf             `stem()`
Bivariate                       Scatter plot            `plot()`
                                Line chart              `plot()`
                                Box plot                `boxplot()`
----------                      -------------           ---------


## What to Remember from this Section
In R, graphs are typically created interactively:

```{r, eval=FALSE}
attach(mtcars)
plot(wt, mpg) 
abline(lm(mpg~wt))
title("Regression of MPG on Weight")
```

```{r, echo=FALSE, fig.align='center', message=FALSE, fig.height=4, fig.width=10}
par(mfrow = c(1, 3))

attach(mtcars)
plot(wt, mpg) 

attach(mtcars)
plot(wt, mpg)
abline(lm(mpg~wt))

attach(mtcars)
plot(wt, mpg)
abline(lm(mpg~wt))
title("Regression of MPG on Weight")
```

## What to Remember from this Section

<br>

<font size="6">
<blockquote>
- You can specify fonts, colors, line styles, axes, reference lines, etc. by specifying [graphical parameters](http://www.statmethods.net/advgraphs/parameters.html)
</blockquote>
</font>

<font size="5">
<blockquote>
- This allows a wide degree of customization; however...
</blockquote>
</font>

<font size="5">
<blockquote>
- I have found that ggplot is an easier syntax for customization needs
</blockquote>
</font>

# Univariate Visualizations

## Histogram

```{r, eval=FALSE}
hist(mtcars$mpg)

hist(mtcars$mpg, breaks = 10, col = "grey")
```

```{r, echo=FALSE, fig.align='center', message=FALSE, fig.height=4, fig.width=10}
par(mfrow = c(1, 2))

hist(mtcars$mpg)
hist(mtcars$mpg, breaks = 10, col = "grey")
```

## Histogram
A perfect example of why customization with base R is not always enjoyable; in ggplot this is far simpler

```{r, fig.align='center', fig.height=3, fig.width=4}
x <- mtcars$mpg 

# histogram
h<-hist(x, breaks = 10, col = "red", xlab = "Miles Per Gallon") 

# add a normal curve
xfit<-seq(min(x), max(x), length = 40) 
yfit<-dnorm(xfit, mean = mean(x), sd = sd(x)) 
yfit <- yfit * diff(h$mids[1:2]) * length(x) 
lines(xfit, yfit, col = "blue", lwd = 2)
```

## Density Plot
Enclose density(x) within plot()

```{r, eval=FALSE}
# basic density plot
plot(density(mtcars$mpg))

# fill denisty plot by adding polygon()
polygon(d, col = "red", border = "blue")
```

```{r, echo=FALSE, fig.align='center', message=FALSE, fig.height=4, fig.width=8}
par(mfrow = c(1, 2))

d <- density(mtcars$mpg)

plot(d)
plot(d, main = "Kernel Density of Miles Per Gallon")
polygon(d, col = "red", border = "blue")
```

## Your Turn
<br>

<center>
<font size="6">
Import the `facebook.tsv` file in the data folder
</font>

<br>

<blockquote>
<font size="6">
Assess the distribution of age with a histogram. What does this tell you?
</font>
</blockquote>
</center>


## Bar Chart

```{r, collapse=TRUE, fig.align='center', fig.height=3, fig.width=4}
mtcars$cyl

table(mtcars$cyl)

barplot(table(mtcars$cyl))
```

## Bar Chart

```{r, eval=FALSE}
counts <- table(mtcars$gear)

barplot(counts, main = "Car Distribution", xlab = "Number of Gears", col = "blue")

barplot(counts, main = "Car Distribution", horiz = TRUE, names.arg = c("3 Gears", "4 Gears", "5 Gears"))
```

```{r, echo=FALSE, fig.align='center', message=FALSE, fig.height=4.5, fig.width=8}
par(mfrow = c(1, 2))

counts <- table(mtcars$gear)

barplot(counts, main = "Car Distribution", xlab = "Number of Gears", col = "blue")

barplot(counts, main = "Car Distribution", horiz = TRUE, names.arg = c("3 Gears", "4 Gears", "5 Gears"))
```

## Dot Plot
Provides less noise than bar charts when plotting many categories

```{r, eval=FALSE}
dotchart(mtcars$mpg)

dotchart(mtcars$mpg, labels = row.names(mtcars), cex = .7)
```

```{r, echo=FALSE, fig.align='center', message=FALSE, fig.width=9, fig.height=5.5}
par(mfrow = c(1, 2))

dotchart(mtcars$mpg)

dotchart(mtcars$mpg,labels = row.names(mtcars), cex = .7)
```

## Dot Plot
```{r, fig.align='center', message=FALSE, fig.height=6}
# order the data first to get more understanding
x <- mtcars[order(mtcars$mpg),]
dotchart(x$mpg,labels = row.names(mtcars), cex = .7)
```

## Box Plot

```{r, eval=FALSE}
boxplot(mtcars$mpg)
boxplot(mtcars$mpg, horizontal = TRUE)
```

```{r, echo=FALSE, fig.align='center', message=FALSE, fig.height=4, fig.width=10}
par(mfrow = c(1, 2))

boxplot(mtcars$mpg)
boxplot(mtcars$mpg, horizontal = TRUE)
```

## Your Turn
<br>

<font size="6">
Import the `reddit.csv` file in the data folder
</font>

<br>

<blockquote>
<font size="6">
1. Assess the frequency of education levels. What does this tell you?
</font>
</blockquote>
<br>

**Hint:** preceed your plot function with `par(mar = c(5,15,1,1), las = 2)`


<br>

<blockquote>
<font size="6">
2. Assess the frequency of states. What does this tell you?
</font>
</blockquote>


## Stem & Leaf Plot

```{r}
stem(mtcars$mpg)
```

## Your Turn

<br>

<font size="6">
Import the `facebook.tsv` file in the data folder
</font>

<br>

<blockquote>
<font size="6">
1. Assess the distribution of age with a histogram. What does this tell you?
</font>
</blockquote>

<br>

<blockquote>
<font size="6">
2. Assess the distribution of age with a boxplot. What does this tell you?
</font>
</blockquote>

<br>

<blockquote>
<font size="6">
3. Assess the frequency of each gender. What does this tell you?
</font>
</blockquote>


# Bivariate Visualizations



## Scatter Plot

```{r, eval=FALSE}
plot(x = mtcars$wt, y = mtcars$mpg)
plot(x = mtcars$wt, y = mtcars$mpg, pch = 18)
plot(x = mtcars$wt, y = mtcars$mpg, pch = 16, col = "blue")
```

```{r, echo=FALSE, fig.align='center', message=FALSE, fig.height=4, fig.width=10}
par(mfrow = c(1, 3))
plot(x = mtcars$wt, y = mtcars$mpg)
plot(x = mtcars$wt, y = mtcars$mpg, pch = 18)
plot(x = mtcars$wt, y = mtcars$mpg, pch = 16, col = "blue")
```

## Scatter Plot Matrix

```{r, fig.align='center', fig.height=5, fig.width=9}
plot(mtcars[, c("mpg", "hp", "disp", "wt")])
```



## Line Chart

```{r, eval=FALSE}
plot(x = pressure$temperature, y = pressure$pressure, type = "l")
plot(x = pressure$temperature, y = pressure$pressure, type = "b")
plot(x = pressure$temperature, y = pressure$pressure, type = "s")
```

```{r, echo=FALSE, fig.align='center', message=FALSE, fig.height=4, fig.width=10}
par(mfrow = c(1, 3))
plot(x = pressure$temperature, y = pressure$pressure, type = "l")
plot(x = pressure$temperature, y = pressure$pressure, type = "b")
plot(x = pressure$temperature, y = pressure$pressure, type = "s")
```

## Line Chart

```{r, fig.align='center', fig.height=4, fig.width=5}
plot(x = pressure$temperature, y = pressure$pressure, type = "l")       # initial plot
points(x = pressure$temperature, y = pressure$pressure)                 # add points
lines(x = pressure$temperature, y = pressure$pressure/2, col = "red")   # add second line
points(x = pressure$temperature, y = pressure$pressure/2, col = "red")  # add points to second line
```





## Box Plot

```{r, eval=FALSE}
boxplot(mtcars$mpg)
boxplot(mpg ~ cyl, data = mtcars)
boxplot(mpg ~ cyl + am, data = mtcars)
```

```{r, echo=FALSE, fig.align='center', message=FALSE, fig.height=4, fig.width=10}
par(mfrow = c(1, 3))

boxplot(mtcars$mpg)
boxplot(mpg ~ cyl, data = mtcars)
boxplot(mpg ~ cyl + am, data = mtcars)
```


## Your Turn

<br>

<font size="6">
Continuing with the `facebook.tsv` data...
</font>

<br>

<blockquote>
<font size="6">
1. Plot age and friend count. What does this tell you?
</font>
</blockquote>

<br>

<blockquote>
<font size="6">
2. Assess the distribution of age by gender. What does this tell you?
</font>
</blockquote>

<br>




# Key Things to Remember

## Remember These Functions!

Visualization           Function             
-------------           ---------       
Histogram               `hist()`
Bar chart               `barplot()`
Box plot                `boxplot()`
Stem & leaf             `stem()`
Scatter plot            `plot()`
Line chart              `plot()`
Box plot                `boxplot()`
-------------           ---------


## Break {.flexbox .vcenter}

<div class="centered">

<font size="10">5 minutes!</font>

</div>